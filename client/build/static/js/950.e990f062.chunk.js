"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[950],{39818:(e,t,s)=>{s.d(t,{A:()=>c});var r=s(80045),a=s(9950);const l=["title","titleId"];function i(e,t){let{title:s,titleId:i}=e,c=(0,r.A)(e,l);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},c),s?a.createElement("title",{id:i},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const c=a.forwardRef(i)},44950:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var r=s(9950),a=s(39818),l=s(73214),i=s(44414);const c=()=>{const[e,t]=(0,r.useState)(null),[s,c]=(0,r.useState)(""),[n,d]=(0,r.useState)(!1),o=[{id:"1",name:"\u56fe\u4e66\u9986",description:"\u5b66\u6821\u4e3b\u56fe\u4e66\u9986\uff0c\u63d0\u4f9b\u5b89\u9759\u7684\u5b66\u4e60\u73af\u5883",coordinates:[121.4737,31.2304],category:"library"},{id:"2",name:"\u6559\u5b66\u697cA",description:"\u4e3b\u8981\u6559\u5b66\u697c\uff0c\u5927\u90e8\u5206\u8bfe\u7a0b\u5728\u6b64\u8fdb\u884c",coordinates:[121.4747,31.2314],category:"campus"},{id:"3",name:"\u5b66\u751f\u98df\u5802",description:"\u5b66\u6821\u4e3b\u8981\u9910\u5385\uff0c\u63d0\u4f9b\u5404\u79cd\u7f8e\u98df",coordinates:[121.4727,31.2294],category:"restaurant"},{id:"4",name:"\u5b66\u751f\u5bbf\u820d\u533a",description:"\u5b66\u751f\u4f4f\u5bbf\u533a\u57df",coordinates:[121.4757,31.2284],category:"dormitory"},{id:"5",name:"\u4f53\u80b2\u9986",description:"\u5ba4\u5185\u4f53\u80b2\u6d3b\u52a8\u573a\u6240",coordinates:[121.4717,31.2324],category:"other"}].filter(e=>e.name.toLowerCase().includes(s.toLowerCase())||e.description.toLowerCase().includes(s.toLowerCase())),x=e=>{switch(e){case"campus":return"text-blue-600 bg-blue-50";case"library":return"text-purple-600 bg-purple-50";case"restaurant":return"text-orange-600 bg-orange-50";case"dormitory":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}},m=e=>{switch(e){case"campus":return"\ud83c\udfeb";case"library":return"\ud83d\udcda";case"restaurant":return"\ud83c\udf7d\ufe0f";case"dormitory":return"\ud83c\udfe0";default:return"\ud83d\udccd"}};return(0,r.useEffect)(()=>{const e=setTimeout(()=>{d(!0)},1e3);return()=>clearTimeout(e)},[]),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,i.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,i.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[(0,i.jsx)(l.A,{className:"h-6 w-6 mr-2 text-blue-600"}),"\u6821\u56ed\u5730\u56fe"]})}),(0,i.jsxs)("div",{className:"relative mb-4",children:[(0,i.jsx)(a.A,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,i.jsx)("input",{type:"text",placeholder:"\u641c\u7d22\u5730\u70b9...",value:s,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,i.jsx)("div",{className:"bg-gray-100 rounded-lg h-80 flex items-center justify-center relative overflow-hidden",children:n?(0,i.jsxs)("div",{className:"w-full h-full relative",children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-green-100 to-blue-100",children:(0,i.jsx)("div",{className:"absolute inset-0 opacity-20",children:(0,i.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 400 300",children:[(0,i.jsx)("path",{d:"M0 150 L400 150",stroke:"#666",strokeWidth:"4"}),(0,i.jsx)("path",{d:"M200 0 L200 300",stroke:"#666",strokeWidth:"4"}),o.map((s,r)=>{const a=50+r%3*120,l=50+100*Math.floor(r/3);return(0,i.jsxs)("g",{children:[(0,i.jsx)("rect",{x:a,y:l,width:"80",height:"60",fill:(null===e||void 0===e?void 0:e.id)===s.id?"#3B82F6":"#E5E7EB",stroke:"#6B7280",strokeWidth:"2",rx:"4",className:"cursor-pointer transition-colors",onClick:()=>t(s)}),(0,i.jsx)("text",{x:a+40,y:l+35,textAnchor:"middle",className:"text-xs fill-current text-gray-700 pointer-events-none",children:m(s.category)})]},s.id)})]})})}),(0,i.jsx)("div",{className:"absolute bottom-4 left-4 bg-white bg-opacity-90 rounded-lg p-2 text-xs",children:(0,i.jsx)("p",{className:"text-gray-600",children:"\u70b9\u51fb\u5efa\u7b51\u7269\u67e5\u770b\u8be6\u60c5"})})]}):(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),(0,i.jsx)("p",{className:"text-gray-600",children:"\u52a0\u8f7d\u5730\u56fe\u4e2d..."})]})}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"\u91cd\u8981\u5730\u70b9"}),(0,i.jsx)("div",{className:"max-h-72 overflow-y-auto space-y-2",children:o.map(s=>(0,i.jsx)("div",{onClick:()=>t(s),className:"p-3 rounded-lg border cursor-pointer transition-all ".concat((null===e||void 0===e?void 0:e.id)===s.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:(0,i.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,i.jsx)("div",{className:"text-2xl",children:m(s.category)}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("h4",{className:"font-medium text-gray-800",children:s.name}),(0,i.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(x(s.category)),children:s.category})]}),(0,i.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:s.description})]})]})},s.id))})]})]}),e&&(0,i.jsx)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:(0,i.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,i.jsx)("div",{className:"text-3xl",children:m(e.category)}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:e.name}),(0,i.jsx)("p",{className:"text-gray-600 mt-1",children:e.description}),(0,i.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-sm text-gray-500",children:[(0,i.jsxs)("span",{children:["\u5750\u6807: ",e.coordinates[1].toFixed(4),", ",e.coordinates[0].toFixed(4)]}),(0,i.jsx)("span",{className:"px-2 py-1 rounded-full ".concat(x(e.category)),children:e.category})]})]})]})})]})}}}]);