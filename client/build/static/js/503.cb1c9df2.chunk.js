/*! For license information please see 503.cb1c9df2.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[503],{388:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(36230).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},7838:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(36230).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},35503:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var r=s(89379),a=s(9950),l=s(91018),o=s(91367);const n=(0,s(36230).A)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);var i=s(388),c=s(88276),d=s(51654),m=s(7838),u=s(44414);const h=()=>{var e,t;const[s,h]=(0,a.useState)({email:"",password:""}),[x,p]=(0,a.useState)(!1),[f,b]=(0,a.useState)(!1),[y,g]=(0,a.useState)(""),[w,N]=(0,a.useState)(""),[v,j]=(0,a.useState)(null),[k,A]=(0,a.useState)(null),[C,S]=(0,a.useState)(!1),z=(0,l.Zp)(),M=(0,l.zy)(),{login:W,isAuthenticated:T,loading:E}=(0,o.As)(),L=(null===(e=M.state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/";(0,a.useEffect)(()=>{!E&&T&&C&&w&&z(L,{replace:!0})},[z,L,T,E,C,w]),(0,a.useEffect)(()=>()=>{v&&clearTimeout(v),k&&clearTimeout(k)},[v,k]);const q=e=>{const{name:t,value:s}=e.target;h(e=>(0,r.A)((0,r.A)({},e),{},{[t]:s}))},Z=e=>{v&&(clearTimeout(v),j(null)),g(""),g(e);const t=setTimeout(()=>{g(""),j(null)},3e4);j(t)};return(0,u.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,u.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,u.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,u.jsxs)("div",{className:"text-center mb-8",children:[(0,u.jsx)("div",{className:"mx-auto h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:(0,u.jsx)(n,{className:"h-6 w-6 text-blue-600"})}),(0,u.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\u6b22\u8fce\u56de\u6765"}),(0,u.jsx)("p",{className:"text-gray-600",children:"\u8bf7\u767b\u5f55\u60a8\u7684\u8d26\u6237"})]}),(0,u.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s.email&&s.password){p(!0),S(!0);try{await W(s.email,s.password),(e=>{k&&(clearTimeout(k),A(null)),N(e);const t=setTimeout(()=>{N(""),A(null)},3e3);A(t)})("\u767b\u5f55\u6210\u529f\uff01\u6b63\u5728\u8df3\u8f6c...")}catch(y){const t=y.message||"\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5";Z(t)}finally{p(!1)}}else Z("\u8bf7\u586b\u5199\u8d26\u53f7\u548c\u5bc6\u7801")},className:"space-y-6",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"\u8d26\u53f7"}),(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,u.jsx)(i.A,{className:"h-5 w-5 text-gray-400"})}),(0,u.jsx)("input",{id:"email",name:"email",type:"text",required:!0,value:s.email,onChange:q,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"\u5bc6\u7801"}),(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,u.jsx)(c.A,{className:"h-5 w-5 text-gray-400"})}),(0,u.jsx)("input",{id:"password",name:"password",type:f?"text":"password",required:!0,value:s.password,onChange:q,className:"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"}),(0,u.jsx)("button",{type:"button",onClick:()=>b(!f),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:f?(0,u.jsx)(d.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,u.jsx)(m.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),y&&(0,u.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,u.jsx)("p",{className:"text-sm text-red-600",children:y})}),w&&(0,u.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,u.jsx)("p",{className:"text-sm text-green-600",children:w})}),(0,u.jsx)("button",{type:"submit",disabled:x,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x?(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"\u767b\u5f55\u4e2d..."]}):"\u767b\u5f55"})]}),(0,u.jsx)("div",{className:"mt-6 text-center",children:(0,u.jsxs)("p",{className:"text-sm text-gray-600",children:["\u8fd8\u6ca1\u6709\u8d26\u6237\uff1f"," ",(0,u.jsx)(l.N_,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"\u7acb\u5373\u6ce8\u518c"})]})})]}),(0,u.jsx)("div",{className:"text-center",children:(0,u.jsx)(l.N_,{to:"/",className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"\u2190 \u8fd4\u56de\u9996\u9875"})})]})})}},36230:(e,t,s)=>{s.d(t,{A:()=>u});var r=s(89379),a=s(80045),l=s(9950);const o=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>Boolean(e)&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],d=(0,l.forwardRef)((e,t)=>{let{color:s="currentColor",size:o=24,strokeWidth:d=2,absoluteStrokeWidth:m,className:u="",children:h,iconNode:x}=e,p=(0,a.A)(e,c);return(0,l.createElement)("svg",(0,r.A)((0,r.A)((0,r.A)({ref:t},i),{},{width:o,height:o,stroke:s,strokeWidth:m?24*Number(d)/Number(o):d,className:n("lucide",u)},!h&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(p)&&{"aria-hidden":"true"}),p),[...x.map(e=>{let[t,s]=e;return(0,l.createElement)(t,s)}),...Array.isArray(h)?h:[h]])}),m=["className"],u=(e,t)=>{const s=(0,l.forwardRef)((s,i)=>{let{className:c}=s,u=(0,a.A)(s,m);return(0,l.createElement)(d,(0,r.A)({ref:i,iconNode:t,className:n("lucide-".concat((h=o(e),h.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),c)},u));var h});return s.displayName=o(e),s}},51654:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(36230).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},88276:(e,t,s)=>{s.d(t,{A:()=>r});const r=(0,s(36230).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}}]);