"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[805],{2765:(e,t,s)=>{s.d(t,{A:()=>i});var n=s(80045),a=s(9950);const l=["title","titleId"];function r(e,t){let{title:s,titleId:r}=e,i=(0,n.A)(e,l);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const i=a.forwardRef(r)},6805:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var n=s(89379),a=s(9950),l=s(2765),r=s(80045);const i=["title","titleId"];function c(e,t){let{title:s,titleId:n}=e,l=(0,r.A)(e,i);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const o=a.forwardRef(c);var d=s(75516),m=s(12368),x=s(50619),u=s(36923);const h=["title","titleId"];function g(e,t){let{title:s,titleId:n}=e,l=(0,r.A)(e,h);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.348 14.652a3.75 3.75 0 0 1 0-5.304m5.304 0a3.75 3.75 0 0 1 0 5.304m-7.425 2.121a6.75 6.75 0 0 1 0-9.546m9.546 0a6.75 6.75 0 0 1 0 9.546M5.106 18.894c-3.808-3.807-3.808-9.98 0-13.788m13.788 0c3.808 3.807 3.808 9.98 0 13.788M12 12h.008v.008H12V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const w=a.forwardRef(g);var f=s(44414);const p=()=>{const[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(null),[i,c]=(0,a.useState)(!0),[h,g]=(0,a.useState)(null),[p,b]=(0,a.useState)(!0),j=(0,a.useCallback)(async()=>{c(!0);try{const e=[{name:"\u4e3b\u7f51\u7ad9",url:"http://localhost:3000",status:"checking",responseTime:null,lastChecked:null,uptime:99.9,description:"\u524d\u7aef\u5e94\u7528\u670d\u52a1"},{name:"API\u670d\u52a1\u5668",url:"http://localhost:5001",status:"checking",responseTime:null,lastChecked:null,uptime:99.5,description:"\u540e\u7aefAPI\u670d\u52a1"},{name:"\u6570\u636e\u5e93",url:"mongodb://localhost:27017",status:"checking",responseTime:null,lastChecked:null,uptime:99.8,description:"MongoDB\u6570\u636e\u5e93"}];t(e);const s=await Promise.all(e.map(e=>(async e=>{const t=Date.now();try{if(e.url.startsWith("http")){const s=new AbortController,a=setTimeout(()=>s.abort(),5e3);await fetch(e.url,{method:"GET",signal:s.signal,mode:"no-cors"}),clearTimeout(a);const l=Date.now()-t;return(0,n.A)((0,n.A)({},e),{},{status:"online",responseTime:l,lastChecked:new Date})}{await new Promise(e=>setTimeout(e,1e3*Math.random()+500));const s=Date.now()-t;return(0,n.A)((0,n.A)({},e),{},{status:Math.random()>.1?"online":"warning",responseTime:s,lastChecked:new Date})}}catch(s){const a=Date.now()-t;return(0,n.A)((0,n.A)({},e),{},{status:a>5e3?"offline":"warning",responseTime:a>5e3?null:a,lastChecked:new Date})}})(e)));t(s),r({cpuUsage:30*Math.random()+20,memoryUsage:40*Math.random()+30,diskUsage:20*Math.random()+40,networkLatency:50*Math.random()+10}),g(new Date)}catch(e){console.error("\u68c0\u67e5\u670d\u52a1\u72b6\u6001\u5931\u8d25:",e)}finally{c(!1)}},[]);(0,a.useEffect)(()=>{if(j(),p){const e=setInterval(j,3e4);return()=>clearInterval(e)}},[p,j]);const v=e=>{switch(e){case"online":return(0,f.jsx)(l.A,{className:"h-5 w-5 text-green-500"});case"offline":return(0,f.jsx)(o,{className:"h-5 w-5 text-red-500"});case"warning":return(0,f.jsx)(d.A,{className:"h-5 w-5 text-yellow-500"});case"checking":return(0,f.jsx)("div",{className:"h-5 w-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"});default:return(0,f.jsx)(o,{className:"h-5 w-5 text-gray-400"})}},N=e=>{switch(e){case"online":return"text-green-600 bg-green-50 border-green-200";case"offline":return"text-red-600 bg-red-50 border-red-200";case"warning":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"checking":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},k=(e,t)=>e>=t.danger?"text-red-600 bg-red-50":e>=t.warning?"text-yellow-600 bg-yellow-50":"text-green-600 bg-green-50",y=e.length>0?e.every(e=>"online"===e.status)?"online":e.some(e=>"offline"===e.status)?"offline":"warning":"checking";return(0,f.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,f.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[(0,f.jsx)(m.A,{className:"h-6 w-6 mr-2 text-blue-600"}),"\u670d\u52a1\u5668\u72b6\u6001\u76d1\u63a7"]}),(0,f.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,f.jsxs)("label",{className:"flex items-center space-x-2 text-sm",children:[(0,f.jsx)("input",{type:"checkbox",checked:p,onChange:e=>b(e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,f.jsx)("span",{children:"\u81ea\u52a8\u5237\u65b0"})]}),(0,f.jsxs)("button",{onClick:()=>{j()},disabled:i,className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[(0,f.jsx)(x.A,{className:"h-4 w-4 mr-1 ".concat(i?"animate-spin":"")}),"\u5237\u65b0"]})]})]}),(0,f.jsx)("div",{className:"p-4 rounded-lg border-2 mb-6 ".concat(N(y)),children:(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsxs)("div",{className:"flex items-center space-x-3",children:[v(y),(0,f.jsxs)("div",{children:[(0,f.jsxs)("h3",{className:"text-lg font-semibold",children:["\u7cfb\u7edf\u72b6\u6001: ","online"===y?"\u6b63\u5e38\u8fd0\u884c":"offline"===y?"\u670d\u52a1\u5f02\u5e38":"warning"===y?"\u90e8\u5206\u5f02\u5e38":"\u68c0\u67e5\u4e2d"]}),h&&(0,f.jsxs)("p",{className:"text-sm opacity-75",children:["\u6700\u540e\u66f4\u65b0: ",h.toLocaleTimeString()]})]})]}),(0,f.jsxs)("div",{className:"text-right",children:[(0,f.jsxs)("div",{className:"text-2xl font-bold",children:[e.filter(e=>"online"===e.status).length,"/",e.length]}),(0,f.jsx)("div",{className:"text-sm opacity-75",children:"\u670d\u52a1\u5728\u7ebf"})]})]})}),s&&(0,f.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,f.jsxs)("div",{className:"p-3 rounded-lg ".concat(k(s.cpuUsage,{warning:70,danger:90})),children:[(0,f.jsx)("div",{className:"text-sm font-medium",children:"CPU\u4f7f\u7528\u7387"}),(0,f.jsxs)("div",{className:"text-xl font-bold",children:[s.cpuUsage.toFixed(1),"%"]})]}),(0,f.jsxs)("div",{className:"p-3 rounded-lg ".concat(k(s.memoryUsage,{warning:80,danger:95})),children:[(0,f.jsx)("div",{className:"text-sm font-medium",children:"\u5185\u5b58\u4f7f\u7528\u7387"}),(0,f.jsxs)("div",{className:"text-xl font-bold",children:[s.memoryUsage.toFixed(1),"%"]})]}),(0,f.jsxs)("div",{className:"p-3 rounded-lg ".concat(k(s.diskUsage,{warning:85,danger:95})),children:[(0,f.jsx)("div",{className:"text-sm font-medium",children:"\u78c1\u76d8\u4f7f\u7528\u7387"}),(0,f.jsxs)("div",{className:"text-xl font-bold",children:[s.diskUsage.toFixed(1),"%"]})]}),(0,f.jsxs)("div",{className:"p-3 rounded-lg ".concat(k(s.networkLatency,{warning:100,danger:200})),children:[(0,f.jsx)("div",{className:"text-sm font-medium",children:"\u7f51\u7edc\u5ef6\u8fdf"}),(0,f.jsxs)("div",{className:"text-xl font-bold",children:[s.networkLatency.toFixed(0),"ms"]})]})]}),(0,f.jsxs)("div",{className:"space-y-3",children:[(0,f.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"\u670d\u52a1\u8be6\u60c5"}),e.map((e,t)=>{return(0,f.jsx)("div",{className:"p-4 rounded-lg border ".concat(N(e.status)),children:(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsxs)("div",{className:"flex items-center space-x-3",children:[v(e.status),(0,f.jsxs)("div",{children:[(0,f.jsx)("h4",{className:"font-semibold",children:e.name}),(0,f.jsx)("p",{className:"text-sm opacity-75",children:e.description}),(0,f.jsx)("p",{className:"text-xs opacity-60",children:e.url})]})]}),(0,f.jsxs)("div",{className:"text-right space-y-1",children:[(0,f.jsxs)("div",{className:"flex items-center space-x-4",children:[null!==e.responseTime&&(0,f.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,f.jsx)(u.A,{className:"h-4 w-4"}),(0,f.jsxs)("span",{className:"text-sm font-medium ".concat((s=e.responseTime,s?s<200?"text-green-600":s<500?"text-yellow-600":"text-red-600":"text-gray-500")),children:[e.responseTime,"ms"]})]}),(0,f.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,f.jsx)(w,{className:"h-4 w-4"}),(0,f.jsxs)("span",{className:"text-sm font-medium",children:[e.uptime.toFixed(1),"%"]})]})]}),e.lastChecked&&(0,f.jsx)("div",{className:"text-xs opacity-60",children:e.lastChecked.toLocaleTimeString()})]})]})},t);var s})]})]})}},75516:(e,t,s)=>{s.d(t,{A:()=>i});var n=s(80045),a=s(9950);const l=["title","titleId"];function r(e,t){let{title:s,titleId:r}=e,i=(0,n.A)(e,l);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const i=a.forwardRef(r)}}]);